#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npm run lint-staged

echo 'Styling, testing and building your project before commiting'


npm run check-format || (
       echo 'ğŸ¤¢ğŸ¤® Prettier check failed !! ğŸ¤¢ğŸ¤®  Run `npm run format`, add changes and try commit again.'
       false;
)
npm run check-lint || (
       echo 'ğŸ˜¤ğŸ€ ESLint Check Failed !! ğŸ˜¤ğŸ€  Make the required changes listed above, add changes and try to commit again.'
       false;
)
npm run check-types || (
       echo 'ğŸ¤¡ğŸ˜‚ Failed Check Types !! ğŸ˜‚ğŸ¤¡ Are you seriously trying to write that ? Make the changes required above.'
       false;
)

echo 'ğŸ¤”ğŸ¤” Alright ! Code looks good to me... Trying to build now.ğŸ¤”ğŸ¤”'

npm run build ||
(
       echo 'âŒğŸ‘·ğŸ”¨âŒ Opps!! Build Failed âŒğŸ‘·ğŸ”¨âŒ Next build failed: View the errors above to see why.'
       false;
)

echo  'âœ… YOU WIN! Building successfully! âœ…'
